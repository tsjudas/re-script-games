(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{165:function(t,i,s){var e=s(185);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);(0,s(10).default)("5f931237",e,!0,{sourceMap:!1})},167:function(t,i,s){var e={"./face_clear.png":168,"./face_gameover.png":169,"./face_normal.png":170};function n(t){var i=a(t);return s(i)}function a(t){var i=e[t];if(!(i+1)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return i}n.keys=function(){return Object.keys(e)},n.resolve=a,t.exports=n,n.id=167},168:function(t,i,s){t.exports=s.p+"img/c20e7d3.png"},169:function(t,i,s){t.exports=s.p+"img/6f75072.png"},170:function(t,i,s){t.exports=s.p+"img/5d4ec75.png"},171:function(t,i,s){t.exports=s.p+"img/7359046.png"},172:function(t,i,s){t.exports=s.p+"img/443483c.png"},173:function(t,i,s){t.exports=s.p+"img/dc9b676.png"},174:function(t,i,s){var e={"./number_0.png":175,"./number_1.png":176,"./number_2.png":177,"./number_3.png":178,"./number_4.png":179,"./number_5.png":180,"./number_6.png":181,"./number_7.png":182,"./number_8.png":183};function n(t){var i=a(t);return s(i)}function a(t){var i=e[t];if(!(i+1)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return i}n.keys=function(){return Object.keys(e)},n.resolve=a,t.exports=n,n.id=174},175:function(t,i,s){t.exports=s.p+"img/ec3f7ce.png"},176:function(t,i,s){t.exports=s.p+"img/28d5a3f.png"},177:function(t,i,s){t.exports=s.p+"img/3350936.png"},178:function(t,i,s){t.exports=s.p+"img/cd85ae7.png"},179:function(t,i,s){t.exports=s.p+"img/8dd7e58.png"},180:function(t,i,s){t.exports=s.p+"img/e4cc140.png"},181:function(t,i,s){t.exports=s.p+"img/a6cb3b1.png"},182:function(t,i,s){t.exports=s.p+"img/0845490.png"},183:function(t,i,s){t.exports=s.p+"img/efcee16.png"},184:function(t,i,s){"use strict";var e=s(165);s.n(e).a},185:function(t,i,s){(t.exports=s(9)(!1)).push([t.i,"\n.game-field[data-v-58c22f4f]{display:flex;justify-content:center;align-items:center\n}\n.scrollable-field[data-v-58c22f4f]{margin:auto;max-height:100%;overflow:auto\n}\n.has-img[data-v-58c22f4f]{background-image:url(/img/games.jpeg);background-size:100% 100%\n}",""])},188:function(t,i,s){"use strict";s.r(i);s(88),s(56),s(57),s(27);var e={x:6,y:6,bombs:10},n={x:12,y:8,bombs:20},a={x:15,y:10,bombs:30},l={data:function(){return{x:6,y:6,bombs:6,flags:6,field:[],selectedLevel:"Easy",gameState:"normal",initializing:!1,isInitWarning:!1,timerId:null,time:"00:00.00",startedTime:null,endTime:null}},computed:{validation:function(){return this.validateX&&this.validateY&&this.validateBombs},validateX:function(){return/^\d+$/.test(this.x)},validateY:function(){return/^\d+$/.test(this.y)},validateBombs:function(){return/^\d+$/.test(this.bombs)&&this.x*this.y>this.bombs-1}},methods:{prepareForInitGame:function(){this.x*this.y>=4e4?this.isInitWarning=!0:this.initGame()},initCansel:function(){this.isInitWarning=!1},initGame:function(){this.isInitWarning=!1,this.initializing=!0,this.flags=this.bombs,setTimeout(this.initField,100)},initField:function(){this.field=[];for(var t=0;t<this.x;t++){for(var i={id:t,cols:[]},s=0;s<this.y;s++)i.cols.push({id:t+s,posx:t,posy:s,num:0,visible:!1,isBombs:!1,isFlag:!1,isFlagNotCorrect:!1,recursiveChecked:!1});this.field.push(i)}this.putBombs();for(var e=0;e<this.x;e++)for(var n=0;n<this.y;n++)this.putNumbers(e,n);this.stopTimeWatch(),this.time="00:00.00",this.gameState="normal",this.flags=this.bombs,this.initializing=!1},resetGame:function(){if(!(this.field.length<=0)){var t=!0,i=!1,s=void 0;try{for(var e,n=this.field[Symbol.iterator]();!(t=(e=n.next()).done);t=!0){var a=e.value,l=!0,o=!1,c=void 0;try{for(var r,u=a.cols[Symbol.iterator]();!(l=(r=u.next()).done);l=!0){var d=r.value;d.num=0,d.visible=!1,d.isBombs=!1,d.isFlag=!1,d.isFlagNotCorrect=!1,d.recursiveChecked=!1}}catch(t){o=!0,c=t}finally{try{l||null==u.return||u.return()}finally{if(o)throw c}}}}catch(t){i=!0,s=t}finally{try{t||null==n.return||n.return()}finally{if(i)throw s}}this.putBombs();for(var h=0;h<this.x;h++)for(var f=0;f<this.y;f++)this.putNumbers(h,f);this.stopTimeWatch(),this.time="00:00.00",this.gameState="normal",this.flags=this.bombs}},putBombs:function(){for(var t=this.bombs;t>0;){var i=Math.ceil(Math.random()*(this.x-1)),s=Math.ceil(Math.random()*(this.y-1));console.log(i+":"+s),this.field[i].cols[s].isBombs||(this.field[i].cols[s].isBombs=!0,t--)}},putNumbers:function(t,i){var s=this;null!=this.field[t]&&null!=this.field[t].cols[i]&&(this.field[t].cols[i].isBombs||(this.field[t].cols[i].num=this.countAroundFunc(t,i,function(t,i){return s.field[t].cols[i].isBombs})))},countAroundFunc:function(t,i,s){var e=0;return this.field[t-1]&&(e+=this.field[t].cols[i-1]&&s(t-1,i-1)?1:0,e+=s(t-1,i)?1:0,e+=this.field[t].cols[i+1]&&s(t-1,i+1)?1:0),e+=this.field[t].cols[i-1]&&s(t,i-1)?1:0,e+=this.field[t].cols[i+1]&&s(t,i+1)?1:0,this.field[t+1]&&(e+=this.field[t].cols[i-1]&&s(t+1,i-1)?1:0,e+=s(t+1,i)?1:0,e+=this.field[t].cols[i+1]&&s(t+1,i+1)?1:0),e},openPanel:function(t){null!=t&&(t.isFlag||t.visible||(null==this.timerId&&this.startTimeWatch(),t.visible=!0,t.isBombs?(this.gameState="gameover",this.gameOver()):this.clearCheck()))},toggleFlag:function(t){t.visible||(t.isFlag?(t.isFlag=!1,this.flags++):this.flags>0&&(t.isFlag=!0,this.flags--),0===this.flags&&this.clearCheck())},openAround:function(t){this.openAroundRec(t);var i=!0,s=!1,e=void 0;try{for(var n,a=this.field[Symbol.iterator]();!(i=(n=a.next()).done);i=!0){var l=n.value,o=!0,c=!1,r=void 0;try{for(var u,d=l.cols[Symbol.iterator]();!(o=(u=d.next()).done);o=!0){u.value.recursiveChecked=!1}}catch(t){c=!0,r=t}finally{try{o||null==d.return||d.return()}finally{if(c)throw r}}}}catch(t){s=!0,e=t}finally{try{i||null==a.return||a.return()}finally{if(s)throw e}}},openAroundRec:function(t){var i=this;null!=t&&!t.recursiveChecked&&t.visible&&(this.countAroundFunc(t.posx,t.posy,function(t,s){return i.field[t].cols[s].isBombs})===this.countAroundFunc(t.posx,t.posy,function(t,s){return i.field[t].cols[s].isFlag})&&(this.field[t.posx].cols[t.posy].recursiveChecked=!0,this.field[t.posx-1]&&(this.openPanel(this.field[t.posx-1].cols[t.posy-1]),this.openPanel(this.field[t.posx-1].cols[t.posy]),this.openPanel(this.field[t.posx-1].cols[t.posy+1]),this.openAroundRec(this.field[t.posx-1].cols[t.posy-1]),this.openAroundRec(this.field[t.posx-1].cols[t.posy]),this.openAroundRec(this.field[t.posx-1].cols[t.posy+1])),this.openPanel(this.field[t.posx].cols[t.posy-1]),this.openPanel(this.field[t.posx].cols[t.posy+1]),this.openAroundRec(this.field[t.posx].cols[t.posy-1]),this.openAroundRec(this.field[t.posx].cols[t.posy+1]),this.field[t.posx+1]&&(this.openPanel(this.field[t.posx+1].cols[t.posy-1]),this.openPanel(this.field[t.posx+1].cols[t.posy]),this.openPanel(this.field[t.posx+1].cols[t.posy+1]),this.openAroundRec(this.field[t.posx+1].cols[t.posy-1]),this.openAroundRec(this.field[t.posx+1].cols[t.posy]),this.openAroundRec(this.field[t.posx+1].cols[t.posy+1]))))},gameOver:function(){this.stopTimeWatch();var t=!0,i=!1,s=void 0;try{for(var e,n=this.field[Symbol.iterator]();!(t=(e=n.next()).done);t=!0){var a=e.value,l=!0,o=!1,c=void 0;try{for(var r,u=a.cols[Symbol.iterator]();!(l=(r=u.next()).done);l=!0){var d=r.value;d.visible=!0,d.isFlagNotCorrect=!d.isBombs&&d.isFlag}}catch(t){o=!0,c=t}finally{try{l||null==u.return||u.return()}finally{if(o)throw c}}}}catch(t){i=!0,s=t}finally{try{t||null==n.return||n.return()}finally{if(i)throw s}}},clearCheck:function(){console.log("clear check!");var t=!0,i=!1,s=void 0;try{for(var e,n=this.field[Symbol.iterator]();!(t=(e=n.next()).done);t=!0){var a=e.value,l=!0,o=!1,c=void 0;try{for(var r,u=a.cols[Symbol.iterator]();!(l=(r=u.next()).done);l=!0){var d=r.value;if(!d.visible&&!d.isFlag)return void console.log(d.posx+":"+d.posy+" = notVisible And notFlagged");if(d.isFlag&&!d.isBombs)return void console.log(d.posx+":"+d.posy+" = notCorrectFlag")}}catch(t){o=!0,c=t}finally{try{l||null==u.return||u.return()}finally{if(o)throw c}}}}catch(t){i=!0,s=t}finally{try{t||null==n.return||n.return()}finally{if(i)throw s}}this.gameState="clear",this.stopTimeWatch()},selectEasy:function(){this.x=e.x,this.y=e.y,this.bombs=e.bombs,this.selectedLevel="Easy"},selectMedium:function(){this.x=n.x,this.y=n.y,this.bombs=n.bombs,this.selectedLevel="Medium"},selectHard:function(){this.x=a.x,this.y=a.y,this.bombs=a.bombs,this.selectedLevel="Hard"},startTimeWatch:function(){this.startedTime=(new Date).getTime(),this.tickTime()},stopTimeWatch:function(){this.startedTime=null,clearTimeout(this.timerId),this.timerId=null},tickTime:function(){var t=(new Date).getTime(),i=new Date(t-this.startedTime),s=i.getMilliseconds(),e=Math.floor(s/10),n=i.getSeconds(),a=i.getMinutes();this.time=("00"+a).slice(-2)+":"+("00"+n).slice(-2)+"."+("00"+e).slice(-2),this.timerId=setTimeout(this.tickTime,10)},getFaceImgSrc:function(){return s(167)("./face_"+this.gameState+".png")},getPanelImgSrc:function(t){return t.isFlagNotCorrect?s(171):t.isFlag?s(172):t.isBombs?s(173):s(174)("./number_"+t.num+".png")}}},o=(s(184),s(15)),c=Object(o.a)(l,function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"tile is-parent is-vertical"},[t._m(0),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"tile is-child is-vertical notification"},[s("p",{staticClass:"title"},[t._v("Configs")]),t._v(" "),s("div",{staticClass:"tabs is-boxed"},[s("ul",[s("li",{class:{"is-active":"Easy"===t.selectedLevel}},[s("a",{on:{click:function(i){t.selectEasy()}}},[s("span",[t._v("Easy")])])]),t._v(" "),s("li",{class:{"is-active":"Medium"===t.selectedLevel}},[s("a",{on:{click:function(i){t.selectMedium()}}},[s("span",[t._v("Medium")])])]),t._v(" "),s("li",{class:{"is-active":"Hard"===t.selectedLevel}},[s("a",{on:{click:function(i){t.selectHard()}}},[s("span",[t._v("Hard")])])])])]),t._v(" "),s("div",{staticClass:"columns is-desktop"},[s("div",{staticClass:"column"},[s("div",{staticClass:"field has-addons"},[t._m(2),t._v(" "),s("p",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.x,expression:"x"}],staticClass:"input",attrs:{type:"tel"},domProps:{value:t.x},on:{input:function(i){i.target.composing||(t.x=i.target.value)}}}),t._v(" "),t._m(3)])]),t._v(" "),s("p",{staticClass:"help is-danger",style:{display:t.validateX?"none":""}},[t._v("値が不正です")])]),t._v(" "),s("div",{staticClass:"column"},[s("div",{staticClass:"field has-addons"},[t._m(4),t._v(" "),s("p",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.y,expression:"y"}],staticClass:"input",attrs:{type:"tel"},domProps:{value:t.y},on:{input:function(i){i.target.composing||(t.y=i.target.value)}}}),t._v(" "),t._m(5)])]),t._v(" "),s("p",{staticClass:"help is-danger",style:{display:t.validateY?"none":""}},[t._v("値が不正です")])]),t._v(" "),s("div",{staticClass:"column"},[s("div",{staticClass:"field has-addons"},[t._m(6),t._v(" "),s("p",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.bombs,expression:"bombs"}],staticClass:"input",attrs:{type:"tel"},domProps:{value:t.bombs},on:{input:function(i){i.target.composing||(t.bombs=i.target.value)}}}),t._v(" "),t._m(7)])]),t._v(" "),s("p",{staticClass:"help is-danger",style:{display:t.validateBombs?"none":""}},[t._v("値が不正です")])])])]),t._v(" "),s("div",{staticClass:"tile is-child is-vertical"},[s("button",{staticClass:"button is-primary is-rounded",class:{"is-loading":t.initializing},attrs:{disabled:!t.validation||t.initializing},on:{click:function(i){t.prepareForInitGame()}}},[t._v("Init Board")])]),t._v(" "),s("div",{staticClass:"tile is-child is-vertical"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-content"},[s("nav",{staticClass:"level is-mobile"},[s("div",{staticClass:"level-item has-text-centered"},[s("div",[s("p",{staticClass:"heading"},[t._v("REMAIN FLAGS")]),t._v(" "),s("p",{staticClass:"title"},[t._v(t._s(t.flags))])])]),t._v(" "),s("div",{staticClass:"level-item has-text-centered",on:{click:function(i){t.resetGame()}}},[s("img",{staticClass:"image",attrs:{width:"50px",height:"50px",src:t.getFaceImgSrc()}})]),t._v(" "),s("div",{staticClass:"level-item has-text-centered"},[s("div",[s("p",{staticClass:"heading"},[t._v("Time")]),t._v(" "),s("p",{staticClass:"title"},[t._v(t._s(t.time))])])])])])]),t._v(" "),s("div",{staticClass:"card"},[s("div",{staticClass:"card-content"},[s("div",{staticClass:"game-field"},[s("div",{staticClass:"scrollable-field"},[s("table",{staticClass:"table is-bordered is-hoverable",staticStyle:{margin:"auto"}},[s("tbody",t._l(t.field,function(i){return s("tr",{key:i.id},t._l(i.cols,function(i){return s("td",{key:i.id,staticStyle:{"user-select":"none"},on:{click:function(s){return"button"in s||!t._k(s.keyCode,"left",37,s.key,["Left","ArrowLeft"])?"button"in s&&0!==s.button?null:void t.openPanel(i):null},mouseup:function(s){if("button"in s&&1!==s.button)return null;t.openAround(i)},contextmenu:function(s){s.preventDefault(),t.toggleFlag(i)}}},[s("div",{staticStyle:{width:"30px",height:"30px"}},[i.visible||i.isFlag?s("img",{attrs:{width:"30px",height:"30px",src:t.getPanelImgSrc(i)}}):s("div")])])}))}))])])])])])]),t._v(" "),s("div",{staticClass:"modal",class:{"is-active":t.isInitWarning}},[s("div",{staticClass:"modal-background"}),t._v(" "),s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title"},[t._v("Warning")]),t._v(" "),s("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(i){t.initCansel()}}})]),t._v(" "),t._m(8),t._v(" "),s("footer",{staticClass:"modal-card-foot"},[s("button",{staticClass:"button is-success",on:{click:function(i){t.initGame()}}},[t._v("Agree")]),t._v(" "),s("button",{staticClass:"button",on:{click:function(i){t.initCansel()}}},[t._v("Cancel")])])])])])},[function(){var t=this.$createElement,i=this._self._c||t;return i("section",{staticClass:"hero has-img is-dark"},[i("div",{staticClass:"hero-body"},[i("div",{staticClass:"container"},[i("h1",{staticClass:"title"},[this._v("\n          Mine Sweeper\n        ")]),this._v(" "),i("h2",{staticClass:"subtitle"},[this._v("\n          マインスイーパ\n        ")])])])])},function(){var t=this.$createElement,i=this._self._c||t;return i("section",{staticClass:"hero is-small"},[i("div",{staticClass:"hero-body"},[i("div",{staticClass:"container"},[i("h1",{staticClass:"title"},[this._v("\n          操作説明\n        ")]),this._v(" "),i("h2",{staticClass:"subtitle"},[this._v("\n          左クリック：パネルオープン\n          中クリック：周りをオープン\n          右クリック：旗を立てる\n        ")])])])])},function(){var t=this.$createElement,i=this._self._c||t;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static"},[this._v("\n              x\n            ")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("span",{staticClass:"icon is-small is-left"},[i("i",{staticClass:"fas fa-arrows-alt-v"})])},function(){var t=this.$createElement,i=this._self._c||t;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static"},[this._v("\n              y\n            ")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("span",{staticClass:"icon is-small is-left"},[i("i",{staticClass:"fas fa-arrows-alt-h"})])},function(){var t=this.$createElement,i=this._self._c||t;return i("p",{staticClass:"control"},[i("a",{staticClass:"button is-static"},[this._v("\n              bombs\n            ")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("span",{staticClass:"icon is-small is-left"},[i("i",{staticClass:"fas fa-list-ol"})])},function(){var t=this.$createElement,i=this._self._c||t;return i("section",{staticClass:"modal-card-body"},[i("p",[this._v("高負荷がかかる可能性があります。")])])}],!1,null,"58c22f4f",null);c.options.__file="mine.vue";i.default=c.exports}}]);